<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://drmaemi.github.io/blog/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html"><meta property="og:site_name" content="Maemi's Devlog"><meta property="og:title" content="[게시판 만들기 - Spring Boot] 06. 회원가입 기능 RESTful API 구현"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-10-18T23:52:09.000Z"><meta property="og:locale" content="en-US"><meta property="article:published_time" content="2022-05-14T00:00:00.000Z"><meta property="article:modified_time" content="2022-10-18T23:52:09.000Z"><link rel="icon" href="/blog/favicon.ico"><link rel="icon" href="/blog/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/blog/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/blog/assets/icon/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/blog/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/blog/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/blog/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/blog/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>[게시판 만들기 - Spring Boot] 06. 회원가입 기능 RESTful API 구현 | Maemi's Devlog</title><meta name="description" content="어려울수록 기본에 미쳐라">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/blog/assets/style.6554ca46.css">
    <link rel="modulepreload" href="/blog/assets/app.73c0e13c.js"><link rel="modulepreload" href="/blog/assets/06-restful-api-for-user-join.html.de335d27.js"><link rel="modulepreload" href="/blog/assets/DetailsOpen.d5ab58f9.js"><link rel="modulepreload" href="/blog/assets/UmlScript.44c1627f.js"><link rel="modulepreload" href="/blog/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/blog/assets/06-restful-api-for-user-join.html.02e4c5b0.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/blog/" class="brand"><img class="logo" src="/blog/logo.png" alt="Maemi&#39;s Devlog"><!----><span class="site-name hide-in-pad">Maemi&#39;s Devlog</span></a><!----></div><div class="navbar-center"><!----><!----></div><div class="navbar-right"><!----><div id="docsearch-container"></div><div class="nav-item"><a class="repo-link" href="https://github.com/DrMaemi/blog" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><p class="sidebar-heading clickable active"><img class="icon" src="/blog/assets/icon/springboot-project.png"><a href="/blog/category/%EA%B2%8C%EC%8B%9C%ED%8C%90-%EB%A7%8C%EB%93%A4%EA%B8%B0---spring-boot/" class="title">게시판 만들기 - Spring Boot</a><!----></p><ul class="sidebar-links"><li><!--[--><a href="/blog/project/bulletin-board-springboot/01-create-proj.html" class="nav-link sidebar-link sidebar-page" aria-label="[게시판 만들기 - Spring Boot] 01. 프로젝트 생성(Hello World !)"><span class="icon iconfont icon-article"></span>[게시판 만들기 - Spring Boot] 01. 프로젝트 생성(Hello World !)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/bulletin-board-springboot/02-gradle.html" class="nav-link sidebar-link sidebar-page" aria-label="[게시판 만들기 - Spring Boot] 02. 빌드 도구 Gradle"><span class="icon iconfont icon-article"></span>[게시판 만들기 - Spring Boot] 02. 빌드 도구 Gradle<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/bulletin-board-springboot/03-spring-mvc.html" class="nav-link sidebar-link sidebar-page" aria-label="[게시판 만들기 - Spring Boot] 03. 스프링 MVC"><span class="icon iconfont icon-article"></span>[게시판 만들기 - Spring Boot] 03. 스프링 MVC<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/bulletin-board-springboot/04-jpa-mysql.html" class="nav-link sidebar-link sidebar-page" aria-label="[게시판 만들기 - Spring Boot] 04. JPA를 이용해 MySQL 연동"><span class="icon iconfont icon-article"></span>[게시판 만들기 - Spring Boot] 04. JPA를 이용해 MySQL 연동<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/bulletin-board-springboot/05-lombok.html" class="nav-link sidebar-link sidebar-page" aria-label="[게시판 만들기 - Spring Boot] 05. Lombok 의존성 추가"><span class="icon iconfont icon-article"></span>[게시판 만들기 - Spring Boot] 05. Lombok 의존성 추가<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="[게시판 만들기 - Spring Boot] 06. 회원가입 기능 RESTful API 구현"><span class="icon iconfont icon-article"></span>[게시판 만들기 - Spring Boot] 06. 회원가입 기능 RESTful API 구현<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#mysql-설치" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MySQL 설치"><!---->MySQL 설치<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#db-table-생성" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="DB, TABLE 생성"><!---->DB, TABLE 생성<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#userrepository" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="UserRepository"><!---->UserRepository<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#userentity-timeentity" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="UserEntity, TimeEntity"><!---->UserEntity, TimeEntity<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#userservice" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="UserService"><!---->UserService<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#userdto" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="UserDto"><!---->UserDto<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#userrestcontroller" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="UserRestController"><!---->UserRestController<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#restful-api-테스트-with-postman" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="RESTful API 테스트(with Postman)"><!---->RESTful API 테스트(with Postman)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#a-참조" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="A. 참조"><!---->A. 참조<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/blog/project/bulletin-board-springboot/07-login.html" class="nav-link sidebar-link sidebar-page" aria-label="[게시판 만들기 - Spring Boot] 07. 로그인 기능 구현(Spring Security, JPA)"><span class="icon iconfont icon-article"></span>[게시판 만들기 - Spring Boot] 07. 로그인 기능 구현(Spring Security, JPA)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/bulletin-board-springboot/08-join-validation.html" class="nav-link sidebar-link sidebar-page" aria-label="[게시판 만들기 - Spring Boot] 08. 회원가입 시 유효성 검사"><span class="icon iconfont icon-article"></span>[게시판 만들기 - Spring Boot] 08. 회원가입 시 유효성 검사<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/bulletin-board-springboot/09-check-duplicate-id.html" class="nav-link sidebar-link sidebar-page" aria-label="[게시판 만들기 - Spring Boot] 09. 회원가입 시 아이디 중복 검사(Ajax, JPA)"><span class="icon iconfont icon-article"></span>[게시판 만들기 - Spring Boot] 09. 회원가입 시 아이디 중복 검사(Ajax, JPA)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/bulletin-board-springboot/10-login-failure.html" class="nav-link sidebar-link sidebar-page" aria-label="[게시판 만들기 - Spring Boot] 10. Security 로그인 실패 메세지 출력"><span class="icon iconfont icon-article"></span>[게시판 만들기 - Spring Boot] 10. Security 로그인 실패 메세지 출력<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-article"></span>[게시판 만들기 - Spring Boot] 06. 회원가입 기능 RESTful API 구현</h1><div class="page-info"><span class="author-info" aria-label="Author🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://github.com/DrMaemi" target="_blank" rel="noopener noreferrer">Dr.Maemi</a></span><span property="author" content="Dr.Maemi"></span></span><!----><span class="date-info" aria-label="Writing Date📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>May 14, 2022</span><meta property="datePublished" content="2022-05-14T00:00:00.000Z"></span><span class="category-info" aria-label="Category🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category5 clickable" role="navigation">게시판 만들기 - Spring Boot</span></li></ul><meta property="articleSection" content="게시판 만들기 - Spring Boot"></span><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#mysql-설치" class="router-link-active router-link-exact-active toc-link level2">MySQL 설치</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#db-table-생성" class="router-link-active router-link-exact-active toc-link level2">DB, TABLE 생성</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#userrepository" class="router-link-active router-link-exact-active toc-link level2">UserRepository</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#userentity-timeentity" class="router-link-active router-link-exact-active toc-link level2">UserEntity, TimeEntity</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#userservice" class="router-link-active router-link-exact-active toc-link level2">UserService</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#userdto" class="router-link-active router-link-exact-active toc-link level2">UserDto</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#userrestcontroller" class="router-link-active router-link-exact-active toc-link level2">UserRestController</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#restful-api-테스트-with-postman" class="router-link-active router-link-exact-active toc-link level2">RESTful API 테스트(with Postman)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/bulletin-board-springboot/06-restful-api-for-user-join.html#a-참조" class="router-link-active router-link-exact-active toc-link level2">A. 참조</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><p>웹 어플리케이션에서 사용자에 따라 컨텐츠를 구분하거나 접근 권한을 제어해야 하는 기능을 제공하기 위해 로그인 시스템을 사용한다. 로그인 시스템 기능 구현에 앞서 사용자는 회원가입을 통해 웹 서버에 정보를 등록한다. 본 포스트에서는 스프링부트, JPA로 MySQL을 회원가입 기능의 RESTful API를 구현하는 것에 대해 설명한다.</p><p>사실 회원가입 기능을 구현할 때 API로 따로 구현할 필요는 없지만 이번 기회에 스프링부트로 RESTful API 서버를 어떻게 만들 수 있는지 익히기 위해 포스트를 별도로 작성하게 되었다.</p><p class="align-center"><img src="https://drive.google.com/uc?export=view&amp;id=1-e4B8qzHdw4iA1oBttLLEb0G_Eo-Mq2h" alt="" loading="lazy"> &lt;화면 1. 프로젝트 구조&gt;</p><p>본 포스트에서는 &lt;화면 1&gt;의 프로젝트 구조 중 <code>User</code>와 관련되어 있는 파일들을 다룰 것이다.</p><h2 id="mysql-설치" tabindex="-1"><a class="header-anchor" href="#mysql-설치" aria-hidden="true">#</a> MySQL 설치</h2><p>MySQL 설치 방법은 따로 자세히 다루지 않겠다. 구글링을 통해 본인의 개발 환경에 맞게 MySQL을 설치하길 바란다.</p><h2 id="db-table-생성" tabindex="-1"><a class="header-anchor" href="#db-table-생성" aria-hidden="true">#</a> DB, TABLE 생성</h2><p>다음 SQL문을 이용해 스프링부트 프로젝트에서 사용할 데이터베이스 <code>SPRING_BOOT_DEMO</code>와 회원 테이블 <code>USER</code>를 생성한다. 하나의 회원은 고유 ID, 비밀번호, 이름, 성별, 이메일, 생성 날짜, 마지막 수정 날짜를 가진다.</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> SPRING_BOOT_DEMO <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> UTF8<span class="token punctuation">;</span>

<span class="token keyword">USE</span> SPRING_BOOT_DEMO<span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">USER</span><span class="token punctuation">(</span>
    id <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    password <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    gender <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    created_date <span class="token keyword">DATETIME</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    last_modified_date <span class="token keyword">DATETIME</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><details class="custom-container details"><summary>CMD</summary><div class="language-text ext-text"><pre class="language-text"><code>mysql&gt; CREATE DATABASE SPRING_BOOT_DEMO DEFAULT CHARACTER SET UTF8;
Query OK, 1 row affected (0.01 sec)

mysql&gt; USE SPRING_BOOT_DEMO;
Database changed
mysql&gt; CREATE TABLE USER(
    -&gt;     id VARCHAR(20) PRIMARY KEY,
    -&gt;     password VARCHAR(100) NOT NULL,
    -&gt;     name VARCHAR(20) NOT NULL,
    -&gt;     gender VARCHAR(20) NOT NULL,
    -&gt;     email VARCHAR(50) NOT NULL,
    -&gt;     created_date DATETIME(6) NOT NULL,
    -&gt;     last_modified_date DATETIME(6) NOT NULL
    -&gt; );
Query OK, 0 rows affected (0.02 sec)

mysql&gt; SHOW TABLES;
+----------------------------+
| Tables_in_spring_boot_demo |
+----------------------------+
| user                       |
+----------------------------+
1 row in set (0.00 sec)

mysql&gt; DESC USER;
+--------------------+--------------+------+-----+---------+----------------+
| Field              | Type         | Null | Key | Default | Extra          |
+--------------------+--------------+------+-----+---------+----------------+
| id                 | bigint       | NO   | PRI | NULL    | auto_increment |
| user_id            | varchar(20)  | NO   | UNI | NULL    |                |
| password           | varchar(100) | NO   |     | NULL    |                |
| name               | varchar(20)  | NO   |     | NULL    |                |
| gender             | varchar(20)  | NO   |     | NULL    |                |
| email              | varchar(50)  | NO   |     | NULL    |                |
| created_date       | datetime(6)  | NO   |     | NULL    |                |
| last_modified_date | datetime(6)  | NO   |     | NULL    |                |
+--------------------+--------------+------+-----+---------+----------------+
8 rows in set (0.00 sec)
</code></pre></div></details><p><code>USER</code> 테이블의 속성 중 <code>created_date</code>와 <code>last_modified_date</code>의 이름 철자가 다르지 않도록 유의한다. 이는 테이블에 변경이 생겼을 때 변경을 가한 데이터 객체 <code>Entity</code>의 변화를 감지하는 스프링부트의 <code>AuditingEntityListener</code>가 해당 데이터의 생성/수정 시간을 테이블에 기록할 때 <code>created_date</code>, <code>last_modified_date</code> 속성 이름을 기준으로 수행하기 때문이다. JPA가 엔티티 객체를 DB와 연동할 때 객체 필드가 카멜 케이스(Camel Case)로 표기되어 있으면 이를 스네이크 케이스(Snake Case)로 변환하고 SQL <code>ALTER</code> 구문으로 테이블 속성을 변경하는 것으로 추측된다. 후술할 <code>TimeEntity</code> 객체에서 관련 필드들의 이름인 <code>createdDate</code>, <code>lastModifiedDate</code>가 스네이크 케이스로 변환되어 테이블의 필드에 반영된다.</p><h2 id="userrepository" tabindex="-1"><a class="header-anchor" href="#userrepository" aria-hidden="true">#</a> UserRepository</h2><p>이제 위에 정의한 <code>USER</code> 테이블의 데이터 조작을 담당하는 <code>UserRepository</code>를 구현한다. <code>Repository</code>는 인터페이스로 정의하고, JpaRepository 인터페이스를 상속받으면 된다.</p><details class="custom-container details"><summary>src/main/java/maemi.dr.SpringDemo.domain.UserRepository</summary><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">.</span>domain<span class="token punctuation">.</span>repository<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>UserEntity<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>repository<span class="token punctuation">.</span></span><span class="token class-name">JpaRepository</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserRepository</span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserEntity</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p>JpaRepository의 제네릭 타입에는 Entity 클래스와 PK의 타입을 명시해주면 된다. JpaRepository에는 일반적으로 많이 사용하는 데이터 조작을 다루는 함수가 정의되어 있기 때문에, CRUD 작업이 편해진다.</p><p>JpaRepository는 <code>@Repository</code> 어노테이션을 사용하여 선언되어 있기 때문에 이를 상속받는 <code>UserRepository</code>에는 어노테이션을 사용할 필요 없다.</p><div class="custom-container info"><p class="custom-container-title">Info</p><p>스프링 어플리케이션은 동작 시 <code>@ComponentScan</code> 어노테이션 기능을 통해 코드의 컴포넌트를 탐색한 뒤 각 컴포넌트를 싱글톤(Singleton) 패턴으로 스프링 컨테이너에 빈(Bean)으로 생성하여 관리한다. 이렇게 Spring IoC 컨테이너가 관리하는 자바 객체를 스프링 빈이라 한다. 스프링 빈은 의존성 주입(DI)에 사용된다.</p></div><div class="mxgraph" style="max-width:100%;margin:auto;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;lightbox&quot;:false,&quot;nav&quot;:true,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;app.diagrams.net\&quot; modified=\&quot;2022-05-14T09:19:44.438Z\&quot; agent=\&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36\&quot; etag=\&quot;bFvJuhanqR-WiIExk9An\&quot; version=\&quot;18.0.3\&quot; type=\&quot;google\&quot;&gt;&lt;diagram id=\&quot;LGoXKO2Ynyn2Hd2LECft\&quot; name=\&quot;Component, Controller, Repository, Service\&quot;&gt;5VhNc5swEP01HJsBBBgf44+0mWknaX1Ic5RhjTWRkUcIf+TXd2WEjYwTp5k0dhofPOzTatG+90CAQ/qz1VdJ59MfIgXu+G66csjA8f2YBPivgXUFhJFXAZlkaQU1gBF7BAO6Bi1ZCoWVqITgis1tMBF5DomyMCqlWNppE8Hts85pBi1glFDeRu9YqqamLb+zw78By6b1mb2oW43MaJ1sOimmNBXLBkSGDulLIVR1NFv1gWvual6qeVdPjG4XJiFXL5nwc7zIaXBfjm6uyXpYXpNOeffFVFlQXpqGncDti9lc5LpstXC1rtmQosxT0AVdh/SWU6ZgNKeJHl2i/IhN1Yxj5OHhROTKCOqFOmac9wUXclOLpBTiSYJ4oaR4gMZIlMQwnuCIWRxIBasnu/a2XKIHQcxAyTWmmAmkpt/4z49MvNyp6dU504aSdR41Bsq2pXcc44Gh+S8o9w9TniMLnIP8Dzj3iM05iU/NOTnE+QjkgiGPH5/wfZOfnvDgEOG/YC4KpoSp/7E5D8+O87DF+a2EAtuhiom8RTm2rmxeKWdZjscJzsEbEelpghjuhZdmYMbSVE/vYV32SMebUlqwuWC52vQT9pxwoGuVCrWuNGpJkePusqebgd7i7hPawgRBW5j4gC7+v9IlaunSKwuWQ1Eg+l1kLPk02hByXBvPfU9xOu2LBmTBCgW53hpcXd13B5c3n0aj0A+Pa+S9p0ZxS6PhCvVJi5YmCF7qh36MxlwkD8gIQvVe4VfhFdOn3/DeEM/egbS4N7gBMbU2CLIn17+bwb2ZuQkGq+bQoJ5VrRDS1kvGnhrYhShlAsefGxWVGahn8p5Qt6levQVJ4Lg3LOy1HZLPlLvVNt05xe/YV3MY7Dmg6snMar6a7BUKyJFCVdPPFKoTxWRSgJWzcdyWh9ebsHtWJvROZMLg7ExI9kxIXm3CMLqImj9i1d0+M5yRJ+u78GlN+Yb2Iudnr5hcENsJgfdKh/lx96Lb3RksDmznhu/pMAx3356q9N0HPDL8Aw==&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}"></div><div class="align-center">&lt;그림 1. @Component, @Controller, @Service, @Repository 컴포넌트 상속 관계&gt;</div> { .align-center } <h2 id="userentity-timeentity" tabindex="-1"><a class="header-anchor" href="#userentity-timeentity" aria-hidden="true">#</a> UserEntity, TimeEntity</h2><p><code>USER</code> 테이블의 튜플과 매핑되는 객체인 <code>UserEntity</code>, <code>TimeEntity</code>를 구현한다. <code>TimeEntity</code>는 JPA가 데이터의 생명주기를 감시하여 변화를 감지하는 <em>Jpa Auditing</em> 기능을 사용한다.</p><div class="custom-container info"><p class="custom-container-title">Info</p><p>DB는 해당 데이터를 누가, 언제 생성 또는 수정했는지 기록하는 것이 꽤나 중요합니다. 이 데이터들은 많은 테이블에서 사용되기 때문에 Entity에도 필드로 중복되어 들어가고, 해당 Entity가 생성 또는 수정될 때마다 개발자가 신경 써서 데이터를 입력해줘야 하는 번거로움이 생기게 됩니다. 이때 사용하는 기술이 <em>Spring Data</em>에서 제공하는 <em>Auditing</em>입니다.</p></div><details class="custom-container details"><summary>src/main/java/maemi.dr.SpringDemo.domain.entity.UserEntity</summary><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>persistence<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@NoArgsConstructor</span><span class="token punctuation">(</span>access<span class="token operator">=</span><span class="token class-name">AccessLevel</span><span class="token punctuation">.</span><span class="token constant">PROTECTED</span><span class="token punctuation">)</span> <span class="token annotation punctuation">@Getter</span> <span class="token annotation punctuation">@Setter</span>
<span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;USER&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserEntity</span> <span class="token keyword">extends</span> <span class="token class-name">TimeEntity</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Id</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> nullable<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span> nullable<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span> nullable<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> gender<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> nullable<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Builder</span>
    <span class="token keyword">public</span> <span class="token class-name">UserEntity</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> gender<span class="token punctuation">,</span> <span class="token class-name">String</span> email<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>gender <span class="token operator">=</span> gender<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ul><li><strong>@NoArgsConstructor(access=AccessLevel.PROTECTED)</strong><ul><li>Lombok 기능</li><li>엔티티의 기본 생성자에 대한 접근 제어 수준을 <em>PROTECTED</em>로 설정</li><li>엔티티가 기본 생성자로 생성되는 것을 제한(무분별한 객체 생성에 대한 제한)</li></ul></li><li><strong>@Getter @Setter</strong><ul><li>Lombok 기능</li><li>Getter Setter 메서드를 자동 생성</li></ul></li><li><strong>@Entity(name)</strong><ul><li>테이블과 매핑될 객체인 엔티티임을 명시</li><li>JPA가 관리하게 됨</li></ul></li><li><strong>@Table</strong><ul><li>엔티티와 매핑할 테이블 이름 지정</li></ul></li><li><strong>@Id</strong><ul><li>테이블의 기본 키임을 명시</li></ul></li><li><strong>@Column</strong><ul><li>객체 필드를 테이블 컬럼에 매핑시킴</li><li>컬럼 특성을 명시할 수 있음</li></ul></li><li><strong>@Builder</strong><ul><li>빌더 패턴을 사용하여 객체 생성을 가능케 함</li></ul></li></ul><div class="custom-container info"><p class="custom-container-title">Info</p><p>빌더 패턴(Builder Pattern)이란 생성 패턴 중 하나로, 복합 객체의 생성 과정과 표현 방법을 분리하여 동일한 생성 절차에서 서로 다른 표현 결과(객체)를 만들 수 있게 한다. 객체를 생성할 때 빌더 패턴을 사용하면 필요한 필드만을 선택적으로 초기화한 객체를 간편하게 생성할 수 있다.</p></div><details class="custom-container details"><summary>src/main/java/maemi.dr.SpringDemo.domain.entity.TimeEntity</summary><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Getter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">CreatedDate</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">LastModifiedDate</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">AuditingEntityListener</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>persistence<span class="token punctuation">.</span></span><span class="token class-name">Column</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>persistence<span class="token punctuation">.</span></span><span class="token class-name">EntityListeners</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>persistence<span class="token punctuation">.</span></span><span class="token class-name">MappedSuperclass</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDateTime</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Getter</span>
<span class="token annotation punctuation">@MappedSuperclass</span>
<span class="token annotation punctuation">@EntityListeners</span><span class="token punctuation">(</span><span class="token class-name">AuditingEntityListener</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TimeEntity</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@CreatedDate</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>updatable<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">,</span> nullable<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> createdDate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@LastModifiedDate</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> lastModifiedDate<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p>상술했듯 <code>TimeEntity</code>는 데이터 조작 시 이를 감지하여 조작 시간을 자동으로 업데이트하는 <em>Jpa Auditing</em> 기능을 사용한다.</p><ul><li><strong>@MappedSuperclass</strong><ul><li>DB 테이블에 직접 매핑되는 것이 아니라 자식 클래스(엔티티)에게 매핑 정보를 상속시킴</li></ul></li><li><strong>@EntityListeners(AuditingEntityListener.class)</strong><ul><li>JPA에게 해당 엔티티는 <em>Auditing</em> 기능을 사용함을 명시</li></ul></li><li><strong>@CreatedDate</strong><ul><li>엔티티가 처음 저장될 때 생성일자 주입</li><li><code>update=false</code> 특성을 추가하지 않으면 수정 시 null값으로 대체됨</li></ul></li><li><strong>@LastModifiedDate</strong><ul><li>엔티티가 마지막으로 수정된 수정일자 주입</li></ul></li></ul><p>한 편, <em>Jpa Auditing</em> 기능을 사용하기 위해선 어플리케이션 객체에 <code>@EnableJpaAuditing</code> 어노테이션을 명시해야 한다.</p><details class="custom-container details"><summary>src/main/java/maemi.dr.SpringDemo.SpringDemoApplication</summary><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>security<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">SecurityAutoConfiguration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>repository<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">EnableJpaAuditing</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@EnableJpaAuditing</span>
<span class="token annotation punctuation">@SpringBootApplication</span><span class="token punctuation">(</span>exclude<span class="token operator">=</span><span class="token class-name">SecurityAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringDemoApplication</span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringDemoApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p>후술할 <code>UserService</code>에서 DB에 저장된 사용자 비밀번호에 대해 암호화를 하기 위해 <code>org.springframework.security</code> 의존성을 사용하는데, 해당 의존성을 사용한 경우 웹 어플리케이션을 이용할 때 자동으로 로그인 보안을 적용하기 때문에 이를 해제하고자 <code>@SpringBootApplication(exclude=SecurityAutoConfiguration.class)</code>을 명시한다.</p><h2 id="userservice" tabindex="-1"><a class="header-anchor" href="#userservice" aria-hidden="true">#</a> UserService</h2><p>사용자 정보와 관련된 비즈니스 로직을 수행하는 <code>UserService</code>를 구현한다.</p><details class="custom-container details"><summary>src/main/java/maemi.dr.SpringDemo.service.UserService</summary><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">.</span>service<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>UserEntity<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">.</span>domain<span class="token punctuation">.</span>repository<span class="token punctuation">.</span>UserRepository<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">.</span>dto<span class="token punctuation">.</span>UserDto<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span>bcrypt<span class="token punctuation">.</span></span><span class="token class-name">BCryptPasswordEncoder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span></span><span class="token class-name">Transactional</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Optional</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Transactional</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserDto</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserEntity</span><span class="token punctuation">&gt;</span></span> userEntities <span class="token operator">=</span> userRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserDto</span><span class="token punctuation">&gt;</span></span> userDtoList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">UserEntity</span> userEntity<span class="token operator">:</span> userEntities<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">UserDto</span> userDto <span class="token operator">=</span> <span class="token class-name">UserDto</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">password</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">gender</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span><span class="token function">getGender</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">createdDate</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span><span class="token function">getCreatedDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">lastModifiedDate</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span><span class="token function">getLastModifiedDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            userDtoList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>userDto<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> userDtoList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Transactional</span>
    <span class="token keyword">public</span> <span class="token class-name">UserDto</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserEntity</span><span class="token punctuation">&gt;</span></span> userEntityWrapper <span class="token operator">=</span> userRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserEntity</span> userEntity <span class="token operator">=</span> userEntityWrapper<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token class-name">UserDto</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">password</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">gender</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span><span class="token function">getGender</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">createdDate</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span><span class="token function">getCreatedDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">lastModifiedDate</span><span class="token punctuation">(</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span><span class="token function">getLastModifiedDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Transactional</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">joinUser</span><span class="token punctuation">(</span><span class="token class-name">UserDto</span> userDto<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 비밀번호 암호화</span>
        <span class="token class-name">BCryptPasswordEncoder</span> passwordEncoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDto<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>passwordEncoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>userDto<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        userRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>userDto<span class="token punctuation">.</span><span class="token function">toEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Transactional</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">,</span> <span class="token class-name">UserDto</span> userDto<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserEntity</span><span class="token punctuation">&gt;</span></span> user <span class="token operator">=</span> userRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BCryptPasswordEncoder</span> passwordEncoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDto<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>passwordEncoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>userDto<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        user<span class="token punctuation">.</span><span class="token function">ifPresent</span><span class="token punctuation">(</span>selectUser <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            selectUser<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>userDto<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            selectUser<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>userDto<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            selectUser<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>userDto<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            selectUser<span class="token punctuation">.</span><span class="token function">setGender</span><span class="token punctuation">(</span>userDto<span class="token punctuation">.</span><span class="token function">getGender</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            selectUser<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span>userDto<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Transactional</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteUser</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        userRepository<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ul><li><strong>@AllArgsConstructor</strong><ul><li><code>userRepository</code> 의존성 주입을 위해 사용</li></ul></li><li><strong>@Service</strong><ul><li>스프링 어플리케이션 구조에서 서비스 계층임을 명시</li></ul></li><li><strong>@Transactional</strong><ul><li>선언적 트랜잭션을 사용함을 명시</li><li>메서드 수준에서 트랜잭션 개념 사용</li></ul></li><li><strong>Repository.findById(id)</strong><ul><li>PK를 SQL의 WHERE 조건으로 데이터 탐색</li><li>반환 값은 Optional&lt;T&gt;이며 값에 접근하기 위해 <code>.get()</code> 메서드 사용</li></ul></li><li><strong>Repository.save(Entity)</strong><ul><li>DB 테이블에 INSERT문 사용(데이터 생성)</li></ul></li><li><strong>Optional&lt;UserEntity&gt;</strong><ul><li><code>null</code>일 수 있는 객체를 감싸는 Wrapper 클래스</li></ul></li><li><strong>selectUser -&gt; {...}</strong><ul><li>Repository 객체로부터 얻은 데이터 내부 값을 수정함으로써 DB에 있는 정보도 UPDATE됨</li></ul></li></ul><p><code>@Transactional</code>은 선언적 트랜잭션을 사용한다는 의미로 해당 메서드가 트랜잭션의 성격을 가지며, 적용된 범위에서 트랜잭션 기능이 포함된 프록시 객체가 생성된다. 프록시 객체는 해당 어노테이션이 포함된 메서드가 호출될 경우 PlatformTransactionManager를 사용해 트랜잭션을 수행하고, 정상 여부에 따라 commit/rollback을 수행한다.</p><p><code>readOnly=true</code> 옵션을 사용하면 트랜잭션 성능이 향상되는데, 이는 Hibernate의 Session Flush Mode를 FlushMode.MANUAL로 설정하고, 설정이 완료되면 강제로 플러시를 하지 않는 한 플러시가 일어나지 않는다. 이는 트랜잭션을 commit해도 영속성 문맥(Persistence Context)이 플러시되지 않아 엔티티의 등록/수정/삭제가 동작하지 않고, 영속성 문맥은 위와 같은 엔티티의 변경을 감지하기 위핸 스냅샷을 저장하지 않기 때문에 성능이 향상된다.</p><div class="custom-container info"><p class="custom-container-title">Info</p><p>영속성 문맥(Persistence Context)이란 어플리케이션에서 생명주기를 관리하는, 인스턴스 상태의 각 고유한 엔티티들의 집합, 논리적 영역을 말한다. 영속성 제공자(Persistence Providers)인 Hibernate 등은 엔티티의 생성, 수정, 삭제 등의 생명주기를 관리하는 기능을 제공한다.</p><p>영속화(Persistence)의 사전적 의미는 &#39;사라지지 않고 지속되게 한다&#39;이다. JPA에서 영속화한다는 개념은 쉽게 말해 DB에 저장하는 것이다. 영속성 문맥은 JVM에서 인스턴스로 관리되다가 영속화될 때 비로소 DB에 반영된다.</p></div><h2 id="userdto" tabindex="-1"><a class="header-anchor" href="#userdto" aria-hidden="true">#</a> UserDto</h2><p>Repository 객체가 얻은 사용자 엔티티 정보를 받아 객체로서 전달되는 데이터 전달 객체(DTO, Data Transfer Object) <code>UserDto</code>를 구현한다.</p><div class="custom-container info"><p class="custom-container-title">Info</p><p>DTO는 DB에서 데이터를 얻어 다른 Service 객체나 Controller 등으로 데이터를 전달할 때 사용하는 객체로, 데이터가 Service 계층에서 Presentation Logic 계층으로 넘어올 때 사용한다. DTO는 로직을 갖고 있지 않은 순수 데이터 객체로 Getter와 Setter 메서드만을 가진다. DTO를 이용하면 계층 간 호출 횟수를 줄여 서버의 성능을 향상시키거나 데이터 위변조 가능성을 낮추어 신뢰성을 향상시킬 수 있다.</p></div><details class="custom-container details"><summary>src/main/java/maemi.dr.SpringDemo.dto.UserDto</summary><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">.</span>dto<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>BoardEntity<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>UserEntity<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDateTime</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@NoArgsConstructor</span> <span class="token annotation punctuation">@Getter</span> <span class="token annotation punctuation">@Setter</span> <span class="token annotation punctuation">@ToString</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDto</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> gender<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> createdDate<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> lastModifiedDate<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">UserEntity</span> <span class="token function">toEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">UserEntity</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">password</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">gender</span><span class="token punctuation">(</span>gender<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Builder</span>
    <span class="token keyword">public</span> <span class="token class-name">UserDto</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> gender<span class="token punctuation">,</span> <span class="token class-name">String</span> email<span class="token punctuation">,</span> <span class="token class-name">LocalDateTime</span> createdDate<span class="token punctuation">,</span> <span class="token class-name">LocalDateTime</span> lastModifiedDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>gender <span class="token operator">=</span> gender<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>createdDate <span class="token operator">=</span> createdDate<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lastModifiedDate <span class="token operator">=</span> lastModifiedDate<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ul><li><strong>.toEntity()</strong><ul><li>필요 시 엔티티 객체로 만들기 위해 엔티티 객체의 빌더 패턴을 활용</li></ul></li></ul><h2 id="userrestcontroller" tabindex="-1"><a class="header-anchor" href="#userrestcontroller" aria-hidden="true">#</a> UserRestController</h2><p>마지막으로 RESTful API 요청에 따라 Json 데이터 객체를 반환하는 컨트롤러인 <code>UserRestController</code>를 구현한다.</p><details class="custom-container details"><summary>src/main/java/maemi.dr.SpringDemo.controller.UserRestController</summary><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">.</span>controller<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">.</span>dto<span class="token punctuation">.</span>UserDto<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">maemi<span class="token punctuation">.</span>dr<span class="token punctuation">.</span></span><span class="token class-name">SpringDemo</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span>UserService<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserRestController</span> <span class="token punctuation">{</span>
    <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;api/user/all&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserDto</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> userService<span class="token punctuation">.</span><span class="token function">getUserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;api/user/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">UserDto</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> userService<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;api/user/join&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">joinUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UserDto</span> userDto<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        userService<span class="token punctuation">.</span><span class="token function">joinUser</span><span class="token punctuation">(</span>userDto<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span><span class="token string">&quot;api/user/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> id<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UserDto</span> userDto<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        userService<span class="token punctuation">.</span><span class="token function">updateUser</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> userDto<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@DeleteMapping</span><span class="token punctuation">(</span><span class="token string">&quot;api/user/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        userService<span class="token punctuation">.</span><span class="token function">deleteUser</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ul><li><strong>@RestController</strong><ul><li>@Controller와 @ResponseBody를 붙인 것과 동일</li><li>반환 값을 ResponseEntity로 감싸서 반환(Json Serialized)</li></ul></li><li><strong>@GetMapping, @PostMapping, ...</strong><ul><li>HTPP 요청 종류에 따른 핸들러 메서드 구분 명시</li></ul></li><li><strong>@PathVariable</strong><ul><li>URL에 중괄호 <code>{ }</code>로 감싸진 변수 사용</li></ul></li></ul><p>여기까지 구현이 완료됐다면 &lt;그림 2&gt;와 같이 클라이언트의 요청으로부터 DB의 데이터를 제공할 준비가 완료된 것이다.</p><div class="mxgraph" style="max-width:100%;margin:auto;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;lightbox&quot;:false,&quot;nav&quot;:true,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;app.diagrams.net\&quot; modified=\&quot;2022-05-14T10:07:43.627Z\&quot; agent=\&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36\&quot; etag=\&quot;2CtrQD6XFM2pDFKXOdcb\&quot; version=\&quot;18.0.3\&quot; type=\&quot;google\&quot;&gt;&lt;diagram id=\&quot;Ki1R5v1QQAeoJKOsch3n\&quot; name=\&quot;6., 7. Application Logic\&quot;&gt;7Vpbe6o4FP01PtaPWxAevfacOXWmp8709jJfgCBpkdAQq/bXn0SCclPbHmqdfsODJZuwadZae2XLZ0vvz5bnFMbBmHgobGmKt2zpg5amqZpi8z8iskojlqqngSnFnpy0DUzwC5JBRUbn2ENJYSIjJGQ4LgZdEkXIZYUYpJQsitN8EhafGsMpqgQmLgyr0RvssUCuQuts498QngbZk1VTLngGs8lyJUkAPbLIhfRhS+9TQlh6Nlv2USjAy3BJ7xvtuLr5xyiK2GtuAP74jpgPZ0vz3EBIcXqT6+6ZzPIMw7lccD/EImH6L7NVhgPPxSHng94iwAxNYuiKKwvOOo8FbBbykcpPYRKnPPh4ifijez6JmORVBXLcJyGh68S6vz5EHIdhLq46UEUcpF7CKHlEuSuKYg67fJW9KgLZchBlaJkLSUTOEZkhRld8ylag6S1SnhqQ40WObBkKcjxnMSjlNd1k3jLATyQJ9YRAjV5fRQMlGD7MlMvp99vY+LuGkCoVkdcVyuYjJyTuYxH/HNx8bRW4FcW2FaUCq4d8OA/54nrunD4L3tbJKJlH3nokbkFLzG7Fedvu2HJ8tx7rHSDHg2Vu8mCVG1wiijlGiMrYTvaQVyjJKnc5bkANN1mMohAy/Fws5DrC5BMuCRbC30jDttt2/jCKSilLICFz6iKZJF+Hpby6orZNa38uBukUsUqutaI2QLxfZFpFZFfoaY6SatnzMmKl+g7xNOLnLqdNcNkTxYa5YXblhRn2PHF7j6IEv0BnnUoQHovlrBcIei0wELnmjCTSGiqSjEiESraQhfY7irI+mvEHbugVsgCoWESnRoZaAxbhzKMgGX0zI+WSLQIvvHm4n9RYxAAnMWRuwPnQzHUVO+JsKs4miD6HqMpssbQPmHoF8aJXewBZnlHn1Zbm6KbZDBe6ohWJMKtevfHzPBNmA0zcPDxdkMWfd9eKY59/f/7jxwvANUz8kyB6xQupzwGjJAwFIx8JPESW79YBb7oWcvyGisDqFIDX7Rrg65z4w4CvGtjp7JI7AU83iMOFnZr/YdmdyD6pl1ooHbxzYzQ04bXK9jD3521uk8T3BFrOhTf6dzxeDn/evnQf6zoxUdzCTjFn8b9f1YZd4q2uqj/KTkfu9djExmX0xPD0zFfPBmy+005j3iQwIh/wtUA3jgk6UFyd+ZO/HCe6f/zR1W78wXMN6OPV5OdFBesUluw7sFrEln+3jcW82XIqXgO0/ZAs3ABS1vYggw7c+cXxAClI5a1Fp6bJdAhjZFbHlm12dNhQx1FmC1jV1u/D2IoBmryshnCmLa3RVeh1RsrFjhIZMPIFaqNT3kiOWRu1aOu1aA8jhtlXMKMy4Ec1o3p5v+31B4lRJN4uRN4Ihxm0fJQhqxVBLzKUp8B4bd+2r1PI92379re39G2q2VCTppeczHhvk1a2xHKi5rqyeoVUa/K0FLKvY88rZJ+SPkMhhr7DDN6skLLU9CMrBJy4QvZ5Q14h+9q1z1AIMEsKKW8Dr1VIORFQjqwQ88QV8tpdZl+L+L9Cfkch1okrZB/zBxWif55COkpDCrHUA4k+WiH2iSvktzzkMxVigbZuGaYK0k+tGb10TKO9yck/QdFfbHBU9WRi+Qz1eDAJNq+uG21YTk1KoGw25U70teIxy/taYy0tH25/AZJO3/6ORh/+Ag==&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}"></div> &lt;그림 2. 회원가입 API 요청 시 스프링 웹 어플리케이션 동작 구조&gt; { .align-center } <h2 id="restful-api-테스트-with-postman" tabindex="-1"><a class="header-anchor" href="#restful-api-테스트-with-postman" aria-hidden="true">#</a> RESTful API 테스트(with <em>Postman</em>)</h2><p><em>Postman</em>을 이용해 구현한 API가 잘 동작하는지 테스트한다.</p><p class="align-center"><img src="https://drive.google.com/uc?export=view&amp;id=151pXpKFPvt1DcMzsz8Wasx5ah-ReNYAW" alt="" loading="lazy"> &lt;테스트 1. 관리자(Admin) 가입&gt;</p><p class="align-center"><img src="https://drive.google.com/uc?export=view&amp;id=1oygCopJ3TrnjbayeCbXu9Awz5e1kgK7-" alt="" loading="lazy"> &lt;테스트 2. user1 가입&gt;</p><p class="align-center"><img src="https://drive.google.com/uc?export=view&amp;id=1r219YiAUldxWfHVzY1R_Pox00iQEtQ6Y" alt="" loading="lazy"> &lt;테스트 3. 가입 전체 사용자 확인 1&gt;</p><p>회원가입이 정상적으로 이루어지고 있는 것을 확인할 수 있다.</p><p class="align-center"><img src="https://drive.google.com/uc?export=view&amp;id=1X9zWI0nbEZoKTkOBNRMtsR4bUQfwP4-N" alt="" loading="lazy"> &lt;테스트 4. user2 가입&gt;</p><p class="align-center"><img src="https://drive.google.com/uc?export=view&amp;id=1OEXgE0Blo_E8gdj-m7wnew0nAElP59xk" alt="" loading="lazy"> &lt;테스트 5. user1 회원탈퇴&gt;</p><p class="align-center"><img src="https://drive.google.com/uc?export=view&amp;id=1hAn8YggammA26PgfcevxKAAJNT-rd90X" alt="" loading="lazy"> &lt;테스트 6. 가입 전체 사용자 확인 2&gt;</p><p>User2 가입 후 User1이 정상적으로 회원탈퇴가 된 것을 확인할 수 있다.</p><p class="align-center"><img src="https://drive.google.com/uc?export=view&amp;id=1lm7Q1-xpyZcygH9uArXu3HWhL39L1vMY" alt="" loading="lazy"> &lt;테스트 7. user2 정보 수정&gt;</p><p class="align-center"><img src="https://drive.google.com/uc?export=view&amp;id=1ZK84S9kjbWixJq_fE8sSr2Eu0zHUVRtH" alt="" loading="lazy"> &lt;테스트 8. 가입 전체 사용자 확인 3&gt;</p><p>정보 수정 또한 정상적으로 이루어지는 것을 확인할 수 있다. 한 가지 유의할 점은, 수정할 엔티티의 PK 값을 변경하려고 할 경우 identifier를 수정하지 못하도록 <em>Exception</em>을 발생시킨다. 예를 들어 <code>user2 name</code>의 아이디인 <code>user2</code>를 <code>user2-updated</code>로 변경하려 시도하면 <code>org.hibernate.HibernateException: identifier of an instance of maemi.dr.SpringDemo.domain.entity.UserEntity was altered from user2 to user2-updated</code> 와 같이 오류를 발생시킨다.</p><h2 id="a-참조" tabindex="-1"><a class="header-anchor" href="#a-참조" aria-hidden="true">#</a> A. 참조</h2><div style="text-align:left;"><p>uss0915, &quot;Spring Boot 로 웹 서비스 출시하기 -2. 게시판 구현하기 (JPA를 이용한 CRUD Restful 적용)&quot;, <em><a href="http://Velog.io" target="_blank" rel="noopener noreferrer">Velog.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em>, Mar. 8, 2021. [Online]. Available: <a href="https://velog.io/@uss0915/Spring-Boot-%EB%A1%9C-%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%B6%9C%EC%8B%9C%ED%95%98%EA%B8%B0-2.-%EA%B2%8C%EC%8B%9C%ED%8C%90-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-JPA%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-CRUD-Restful-%EC%A0%81%EC%9A%A9" target="_blank" rel="noopener noreferrer">https://velog.io/@uss0915/Spring-Boot-로-웹-서비스-출시하기-2.-게시판-구현하기-JPA를-이용한-CRUD-Restful-적용<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> [Accessed May 14, 2022].</p><p>uss0915, &quot;Spring Boot 로 웹 서비스 출시하기 -3. 게시판 구현하기 (JPA + RestAPI + Oracle)&quot;, <em><a href="http://Velog.io" target="_blank" rel="noopener noreferrer">Velog.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em>, Mar. 23, 2021. [Online]. Available: <a href="https://velog.io/@uss0915/Spring-Boot-%EB%A1%9C-%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%B6%9C%EC%8B%9C%ED%95%98%EA%B8%B0-3.-%EA%B2%8C%EC%8B%9C%ED%8C%90-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-JPA-RestAPI-Oracle" target="_blank" rel="noopener noreferrer">https://velog.io/@uss0915/Spring-Boot-로-웹-서비스-출시하기-3.-게시판-구현하기-JPA-RestAPI-Oracle<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> [Accessed May 14, 2022].</p><p>dltkdgus3435, &quot;[SpringBoot] spring-data-jpa 사용시 @Repository 어노테이션은 꼭 필요한가?&quot;, <em><a href="http://Velog.io" target="_blank" rel="noopener noreferrer">Velog.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em>, Dec. 12, 2021. [Online]. Available: <a href="https://velog.io/@dltkdgns3435/SpringBoot-spring-data-jpa-%EC%82%AC%EC%9A%A9%EC%8B%9C-Repository-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98%EC%9D%80-%EA%BC%AD-%ED%95%84%EC%9A%94%ED%95%9C%EA%B0%80" target="_blank" rel="noopener noreferrer">https://velog.io/@dltkdgns3435/SpringBoot-spring-data-jpa-사용시-Repository-어노테이션은-꼭-필요한가<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> [Accessed May 14, 2022].</p><p>강준현, &quot;@Transactional readOnly 속성&quot;, <em><a href="http://Github.io" target="_blank" rel="noopener noreferrer">Github.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em>, Sep. 1, 2021. [Online]. Available: <a href="https://junhyunny.github.io/spring-boot/jpa/junit/transactional-readonly/" target="_blank" rel="noopener noreferrer">https://junhyunny.github.io/spring-boot/jpa/junit/transactional-readonly/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> [Accessed May 23, 2022].</p><p>baeldung, &quot;JPA/Hibernate Persistence Context&quot;, <em><a href="http://baeldung.com" target="_blank" rel="noopener noreferrer">baeldung.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em>, Mar. 11, 2022. [Online]. Available: <a href="https://www.baeldung.com/jpa-hibernate-persistence-context" target="_blank" rel="noopener noreferrer">https://www.baeldung.com/jpa-hibernate-persistence-context<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">Last update: </span><!----></div><div class="meta-item contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: leesh1510@ajou.ac.kr">DrMaemi</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/blog/project/bulletin-board-springboot/05-lombok.html" class="nav-link prev" aria-label="[게시판 만들기 - Spring Boot] 05. Lombok 의존성 추가"><div class="hint"><span class="arrow left"></span>Prev</div><div class="link"><span class="icon iconfont icon-article"></span>[게시판 만들기 - Spring Boot] 05. Lombok 의존성 추가</div></a><a href="/blog/project/bulletin-board-springboot/07-login.html" class="nav-link next" aria-label="[게시판 만들기 - Spring Boot] 07. 로그인 기능 구현(Spring Security, JPA)"><div class="hint">Next<span class="arrow right"></span></div><div class="link">[게시판 만들기 - Spring Boot] 07. 로그인 기능 구현(Spring Security, JPA)<span class="icon iconfont icon-article"></span></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">MIT Licensed | Copyright © 2022-present Dr.Maemi</div><!----></footer><!--]--></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/blog/assets/app.73c0e13c.js" defer></script>
  </body>
</html>
